! function (r, window, document) {
    var gloablIScroll;
    ! function (o, t) {
        function r(o) {
            return "" === n ? o : (o = o.charAt(0).toUpperCase() + o.substr(1), n + o)
        }
        var e = Math,
            l = t.createElement("div").style,
            n = function () {
                for (var o, t = "t,webkitT,MozT,msT,OT".split(","), r = 0, e = t.length; e > r; r++)
                    if (o = t[r] + "ransform", o in l) return t[r].substr(0, t[r].length - 1);
                return !1
            }(),
            s = n ? "-" + n.toLowerCase() + "-" : "",
            i = r("transform"),
            a = r("transitionProperty"),
            c = r("transitionDuration"),
            p = r("transformOrigin"),
            m = r("transitionTimingFunction"),
            h = r("transitionDelay"),
            u = /android/gi.test(navigator.appVersion),
            S = /iphone|ipad/gi.test(navigator.appVersion),
            d = /hp-tablet/gi.test(navigator.appVersion),
            b = r("perspective") in l,
            f = "ontouchstart" in o && !d,
            x = !!n,
            g = r("transition") in l,
            v = "onorientationchange" in o ? "orientationchange" : "resize",
            y = f ? "touchstart" : "mousedown",
            Y = f ? "touchmove" : "mousemove",
            T = f ? "touchend" : "mouseup",
            X = f ? "touchcancel" : "mouseup",
            _ = function () {
                if (n === !1) return !1;
                var o = {
                    "": "transitionend",
                    webkit: "webkitTransitionEnd",
                    Moz: "transitionend",
                    O: "oTransitionEnd",
                    ms: "MSTransitionEnd"
                };
                return o[n]
            }(),
            w = function () {
                return o.requestAnimationFrame || o.webkitRequestAnimationFrame || o.mozRequestAnimationFrame || o.oRequestAnimationFrame || o.msRequestAnimationFrame || function (o) {
                    return setTimeout(o, 1)
                }
            }(),
            z = function () {
                return o.cancelRequestAnimationFrame || o.webkitCancelAnimationFrame || o.webkitCancelRequestAnimationFrame || o.mozCancelRequestAnimationFrame || o.oCancelRequestAnimationFrame || o.msCancelRequestAnimationFrame || clearTimeout
            }(),
            M = b ? " translateZ(0)" : "",
            E = function (r, e) {
                var l, n = this;
                n.wrapper = "object" == typeof r ? r : t.getElementById(r), n.wrapper.style.overflow = "hidden", n.scroller = n.wrapper.children[0], n.options = {
                    hScroll: !0,
                    vScroll: !0,
                    x: 0,
                    y: 0,
                    bounce: !0,
                    bounceLock: !1,
                    momentum: !0,
                    lockDirection: !0,
                    useTransform: !0,
                    useTransition: !1,
                    topOffset: 0,
                    checkDOMChanges: !1,
                    handleClick: !0,
                    hScrollbar: !0,
                    vScrollbar: !0,
                    fixedScrollbar: u,
                    hideScrollbar: S,
                    fadeScrollbar: S && b,
                    scrollbarClass: "",
                    zoom: !1,
                    zoomMin: 1,
                    zoomMax: 4,
                    doubleTapZoom: 2,
                    wheelAction: "scroll",
                    snap: !1,
                    snapThreshold: 1,
                    onRefresh: null,
                    onBeforeScrollStart: function (o) {
                        o.preventDefault()
                    },
                    onScrollStart: null,
                    onBeforeScrollMove: null,
                    onScrollMove: null,
                    onBeforeScrollEnd: null,
                    onScrollEnd: null,
                    onTouchEnd: null,
                    onDestroy: null,
                    onZoomStart: null,
                    onZoom: null,
                    onZoomEnd: null
                };
                for (l in e) n.options[l] = e[l];
                n.x = n.options.x, n.y = n.options.y, n.options.useTransform = x && n.options.useTransform, n.options.hScrollbar = n.options.hScroll && n.options.hScrollbar, n.options.vScrollbar = n.options.vScroll && n.options.vScrollbar, n.options.zoom = n.options.useTransform && n.options.zoom, n.options.useTransition = g && n.options.useTransition, n.options.zoom && u && (M = ""), n.scroller.style[a] = n.options.useTransform ? s + "transform" : "top left", n.scroller.style[c] = "0", n.scroller.style[p] = "0 0", n.options.useTransition && (n.scroller.style[m] = "cubic-bezier(0.33,0.66,0.66,1)"), n.options.useTransform ? n.scroller.style[i] = "translate(" + n.x + "px," + n.y + "px)" + M : n.scroller.style.cssText += ";position:absolute;top:" + n.y + "px;left:" + n.x + "px", n.options.useTransition && (n.options.fixedScrollbar = !0), n.refresh(), n._bind(v, o), n._bind(y), f || (n._bind("mouseout", n.wrapper), "none" != n.options.wheelAction && (n._bind("DOMMouseScroll"), n._bind("mousewheel"))), n.options.checkDOMChanges && (n.checkDOMTime = setInterval(function () {
                    n._checkDOMChanges()
                }, 500))
            };
        E.prototype = {
            enabled: !0,
            x: 0,
            y: 0,
            steps: [],
            scale: 1,
            currPageX: 0,
            currPageY: 0,
            pagesX: [],
            pagesY: [],
            aniTime: null,
            wheelZoomCount: 0,
            handleEvent: function (o) {
                var t = this;
                switch (o.type) {
                    case y:
                        if (!f && 0 !== o.button) return;
                        t._start(o);
                        break;
                    case Y:
                        t._move(o);
                        break;
                    case T:
                    case X:
                        t._end(o);
                        break;
                    case v:
                        t._resize();
                        break;
                    case "DOMMouseScroll":
                    case "mousewheel":
                        t._wheel(o);
                        break;
                    case "mouseout":
                        t._mouseout(o);
                        break;
                    case _:
                        t._transitionEnd(o)
                }
            },
            _checkDOMChanges: function () {
                this.moved || this.zoomed || this.animating || this.scrollerW == this.scroller.offsetWidth * this.scale && this.scrollerH == this.scroller.offsetHeight * this.scale || this.refresh()
            },
            _scrollbar: function (o) {
                var r, l = this;
                return l[o + "Scrollbar"] ? (l[o + "ScrollbarWrapper"] || (r = t.createElement("div"), l.options.scrollbarClass ? r.className = l.options.scrollbarClass + o.toUpperCase() : r.style.cssText = "position:absolute;z-index:100;" + ("h" == o ? "height:7px;bottom:1px;left:2px;right:" + (l.vScrollbar ? "7" : "2") + "px" : "width:7px;bottom:" + (l.hScrollbar ? "7" : "2") + "px;top:2px;right:1px"), r.style.cssText += ";pointer-events:none;" + s + "transition-property:opacity;" + s + "transition-duration:" + (l.options.fadeScrollbar ? "350ms" : "0") + ";overflow:hidden;opacity:" + (l.options.hideScrollbar ? "0" : "1"), l.wrapper.appendChild(r), l[o + "ScrollbarWrapper"] = r, r = t.createElement("div"), l.options.scrollbarClass || (r.style.cssText = "position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);" + s + "background-clip:padding-box;" + s + "box-sizing:border-box;" + ("h" == o ? "height:100%" : "width:100%") + ";" + s + "border-radius:3px;border-radius:3px"), r.style.cssText += ";pointer-events:none;" + s + "transition-property:" + s + "transform;" + s + "transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);" + s + "transition-duration:0;" + s + "transform: translate(0,0)" + M, l.options.useTransition && (r.style.cssText += ";" + s + "transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"), l[o + "ScrollbarWrapper"].appendChild(r), l[o + "ScrollbarIndicator"] = r), "h" == o ? (l.hScrollbarSize = l.hScrollbarWrapper.clientWidth, l.hScrollbarIndicatorSize = e.max(e.round(l.hScrollbarSize * l.hScrollbarSize / l.scrollerW), 8), l.hScrollbarIndicator.style.width = l.hScrollbarIndicatorSize + "px", l.hScrollbarMaxScroll = l.hScrollbarSize - l.hScrollbarIndicatorSize, l.hScrollbarProp = l.hScrollbarMaxScroll / l.maxScrollX) : (l.vScrollbarSize = l.vScrollbarWrapper.clientHeight, l.vScrollbarIndicatorSize = e.max(e.round(l.vScrollbarSize * l.vScrollbarSize / l.scrollerH), 8), l.vScrollbarIndicator.style.height = l.vScrollbarIndicatorSize + "px", l.vScrollbarMaxScroll = l.vScrollbarSize - l.vScrollbarIndicatorSize, l.vScrollbarProp = l.vScrollbarMaxScroll / l.maxScrollY), void l._scrollbarPos(o, !0)) : void(l[o + "ScrollbarWrapper"] && (x && (l[o + "ScrollbarIndicator"].style[i] = ""), l[o + "ScrollbarWrapper"].parentNode.removeChild(l[o + "ScrollbarWrapper"]), l[o + "ScrollbarWrapper"] = null, l[o + "ScrollbarIndicator"] = null))
            },
            _resize: function () {
                var o = this;
                setTimeout(function () {
                    o.refresh()
                }, u ? 200 : 0)
            },
            _pos: function (o, t) {
                this.zoomed || (o = this.hScroll ? o : 0, t = this.vScroll ? t : 0, this.options.useTransform ? this.scroller.style[i] = "translate(" + o + "px," + t + "px) scale(" + this.scale + ")" + M : (o = e.round(o), t = e.round(t), this.scroller.style.left = o + "px", this.scroller.style.top = t + "px"), this.x = o, this.y = t, this._scrollbarPos("h"), this._scrollbarPos("v"))
            },
            _scrollbarPos: function (o, t) {
                var r, l = this,
                    n = "h" == o ? l.x : l.y;
                l[o + "Scrollbar"] && (n = l[o + "ScrollbarProp"] * n, 0 > n ? (l.options.fixedScrollbar || (r = l[o + "ScrollbarIndicatorSize"] + e.round(3 * n), 8 > r && (r = 8), l[o + "ScrollbarIndicator"].style["h" == o ? "width" : "height"] = r + "px"), n = 0) : n > l[o + "ScrollbarMaxScroll"] && (l.options.fixedScrollbar ? n = l[o + "ScrollbarMaxScroll"] : (r = l[o + "ScrollbarIndicatorSize"] - e.round(3 * (n - l[o + "ScrollbarMaxScroll"])), 8 > r && (r = 8), l[o + "ScrollbarIndicator"].style["h" == o ? "width" : "height"] = r + "px", n = l[o + "ScrollbarMaxScroll"] + (l[o + "ScrollbarIndicatorSize"] - r))), l[o + "ScrollbarWrapper"].style[h] = "0", l[o + "ScrollbarWrapper"].style.opacity = t && l.options.hideScrollbar ? "0" : "1", l[o + "ScrollbarIndicator"].style[i] = "translate(" + ("h" == o ? n + "px,0)" : "0," + n + "px)") + M)
            },
            _start: function (o) {
                var t, r, l, n, s, a = this,
                    c = f ? o.touches[0] : o;
                a.enabled && (a.options.onBeforeScrollStart && a.options.onBeforeScrollStart.call(a, o), (a.options.useTransition || a.options.zoom) && a._transitionTime(0), a.moved = !1, a.animating = !1, a.zoomed = !1, a.distX = 0, a.distY = 0, a.absDistX = 0, a.absDistY = 0, a.dirX = 0, a.dirY = 0, a.options.zoom && f && o.touches.length > 1 && (n = e.abs(o.touches[0].pageX - o.touches[1].pageX), s = e.abs(o.touches[0].pageY - o.touches[1].pageY), a.touchesDistStart = e.sqrt(n * n + s * s), a.originX = e.abs(o.touches[0].pageX + o.touches[1].pageX - 2 * a.wrapperOffsetLeft) / 2 - a.x, a.originY = e.abs(o.touches[0].pageY + o.touches[1].pageY - 2 * a.wrapperOffsetTop) / 2 - a.y, a.options.onZoomStart && a.options.onZoomStart.call(a, o)), a.options.momentum && (a.options.useTransform ? (t = getComputedStyle(a.scroller, null)[i].replace(/[^0-9\-.,]/g, "").split(","), r = 1 * t[4], l = 1 * t[5]) : (r = 1 * getComputedStyle(a.scroller, null).left.replace(/[^0-9-]/g, ""), l = 1 * getComputedStyle(a.scroller, null).top.replace(/[^0-9-]/g, "")), (r != a.x || l != a.y) && (a.options.useTransition ? a._unbind(_) : z(a.aniTime), a.steps = [], a._pos(r, l))), a.absStartX = a.x, a.absStartY = a.y, a.startX = a.x, a.startY = a.y, a.pointX = c.pageX, a.pointY = c.pageY, a.startTime = o.timeStamp || Date.now(), a.options.onScrollStart && a.options.onScrollStart.call(a, o), a._bind(Y), a._bind(T), a._bind(X))
            },
            _move: function (o) {
                var t, r, l, n = this,
                    s = f ? o.touches[0] : o,
                    a = s.pageX - n.pointX,
                    c = s.pageY - n.pointY,
                    p = n.x + a,
                    m = n.y + c,
                    h = o.timeStamp || Date.now();
                return n.options.onBeforeScrollMove && n.options.onBeforeScrollMove.call(n, o), n.options.zoom && f && o.touches.length > 1 ? (t = e.abs(o.touches[0].pageX - o.touches[1].pageX), r = e.abs(o.touches[0].pageY - o.touches[1].pageY), n.touchesDist = e.sqrt(t * t + r * r), n.zoomed = !0, l = 1 / n.touchesDistStart * n.touchesDist * this.scale, l < n.options.zoomMin ? l = .5 * n.options.zoomMin * Math.pow(2, l / n.options.zoomMin) : l > n.options.zoomMax && (l = 2 * n.options.zoomMax * Math.pow(.5, n.options.zoomMax / l)), n.lastScale = l / this.scale, p = this.originX - this.originX * n.lastScale + this.x, m = this.originY - this.originY * n.lastScale + this.y, this.scroller.style[i] = "translate(" + p + "px," + m + "px) scale(" + l + ")" + M, void(n.options.onZoom && n.options.onZoom.call(n, o))) : (n.pointX = s.pageX, n.pointY = s.pageY, (p > 0 || p < n.maxScrollX) && (p = n.options.bounce ? n.x + a / 2 : p >= 0 || n.maxScrollX >= 0 ? 0 : n.maxScrollX), (m > n.minScrollY || m < n.maxScrollY) && (m = n.options.bounce ? n.y + c / 2 : m >= n.minScrollY || n.maxScrollY >= 0 ? n.minScrollY : n.maxScrollY), n.distX += a, n.distY += c, n.absDistX = e.abs(n.distX), n.absDistY = e.abs(n.distY), void(n.absDistX < 6 && n.absDistY < 6 || (n.options.lockDirection && (n.absDistX > n.absDistY + 5 ? (m = n.y, c = 0) : n.absDistY > n.absDistX + 5 && (p = n.x, a = 0)), n.moved = !0, n._pos(p, m), n.dirX = a > 0 ? -1 : 0 > a ? 1 : 0, n.dirY = c > 0 ? -1 : 0 > c ? 1 : 0, h - n.startTime > 300 && (n.startTime = h, n.startX = n.x, n.startY = n.y), n.options.onScrollMove && n.options.onScrollMove.call(n, o))))
            },
            _end: function (o) {
                if (!f || 0 === o.touches.length) {
                    var r, l, n, s, a, p, m, h = this,
                        u = f ? o.changedTouches[0] : o,
                        S = {
                            dist: 0,
                            time: 0
                        },
                        d = {
                            dist: 0,
                            time: 0
                        },
                        b = (o.timeStamp || Date.now()) - h.startTime,
                        x = h.x,
                        g = h.y;
                    if (h._unbind(Y), h._unbind(T), h._unbind(X), h.options.onBeforeScrollEnd && h.options.onBeforeScrollEnd.call(h, o), h.zoomed) return m = h.scale * h.lastScale, m = Math.max(h.options.zoomMin, m), m = Math.min(h.options.zoomMax, m), h.lastScale = m / h.scale, h.scale = m, h.x = h.originX - h.originX * h.lastScale + h.x, h.y = h.originY - h.originY * h.lastScale + h.y, h.scroller.style[c] = "200ms", h.scroller.style[i] = "translate(" + h.x + "px," + h.y + "px) scale(" + h.scale + ")" + M, h.zoomed = !1, h.refresh(), void(h.options.onZoomEnd && h.options.onZoomEnd.call(h, o));
                    if (!h.moved) return f && (h.doubleTapTimer && h.options.zoom ? (clearTimeout(h.doubleTapTimer), h.doubleTapTimer = null, h.options.onZoomStart && h.options.onZoomStart.call(h, o), h.zoom(h.pointX, h.pointY, 1 == h.scale ? h.options.doubleTapZoom : 1), h.options.onZoomEnd && setTimeout(function () {
                        h.options.onZoomEnd.call(h, o)
                    }, 200)) : this.options.handleClick && (h.doubleTapTimer = setTimeout(function () {
                        for (h.doubleTapTimer = null, r = u.target; 1 != r.nodeType;) r = r.parentNode;
                        "SELECT" != r.tagName && "INPUT" != r.tagName && "TEXTAREA" != r.tagName && (l = t.createEvent("MouseEvents"), l.initMouseEvent("click", !0, !0, o.view, 1, u.screenX, u.screenY, u.clientX, u.clientY, o.ctrlKey, o.altKey, o.shiftKey, o.metaKey, 0, null), l._fake = !0, r.dispatchEvent(l))
                    }, h.options.zoom ? 250 : 0))), h._resetPos(200), void(h.options.onTouchEnd && h.options.onTouchEnd.call(h, o));
                    if (300 > b && h.options.momentum && (S = x ? h._momentum(x - h.startX, b, -h.x, h.scrollerW - h.wrapperW + h.x, h.options.bounce ? h.wrapperW : 0) : S, d = g ? h._momentum(g - h.startY, b, -h.y, h.maxScrollY < 0 ? h.scrollerH - h.wrapperH + h.y - h.minScrollY : 0, h.options.bounce ? h.wrapperH : 0) : d, x = h.x + S.dist, g = h.y + d.dist, (h.x > 0 && x > 0 || h.x < h.maxScrollX && x < h.maxScrollX) && (S = {
                            dist: 0,
                            time: 0
                        }), (h.y > h.minScrollY && g > h.minScrollY || h.y < h.maxScrollY && g < h.maxScrollY) && (d = {
                            dist: 0,
                            time: 0
                        })), S.dist || d.dist) return a = e.max(e.max(S.time, d.time), 10), h.options.snap && (n = x - h.absStartX, s = g - h.absStartY, e.abs(n) < h.options.snapThreshold && e.abs(s) < h.options.snapThreshold ? h.scrollTo(h.absStartX, h.absStartY, 200) : (p = h._snap(x, g), x = p.x, g = p.y, a = e.max(p.time, a))), h.scrollTo(e.round(x), e.round(g), a), void(h.options.onTouchEnd && h.options.onTouchEnd.call(h, o));
                    if (h.options.snap) return n = x - h.absStartX, s = g - h.absStartY, e.abs(n) < h.options.snapThreshold && e.abs(s) < h.options.snapThreshold ? h.scrollTo(h.absStartX, h.absStartY, 200) : (p = h._snap(h.x, h.y), (p.x != h.x || p.y != h.y) && h.scrollTo(p.x, p.y, p.time)), void(h.options.onTouchEnd && h.options.onTouchEnd.call(h, o));
                    h._resetPos(200), h.options.onTouchEnd && h.options.onTouchEnd.call(h, o)
                }
            },
            _resetPos: function (o) {
                var t = this,
                    r = t.x >= 0 ? 0 : t.x < t.maxScrollX ? t.maxScrollX : t.x,
                    e = t.y >= t.minScrollY || t.maxScrollY > 0 ? t.minScrollY : t.y < t.maxScrollY ? t.maxScrollY : t.y;
                return r == t.x && e == t.y ? (t.moved && (t.moved = !1, t.options.onScrollEnd && t.options.onScrollEnd.call(t)), t.hScrollbar && t.options.hideScrollbar && ("webkit" == n && (t.hScrollbarWrapper.style[h] = "300ms"), t.hScrollbarWrapper.style.opacity = "0"), void(t.vScrollbar && t.options.hideScrollbar && ("webkit" == n && (t.vScrollbarWrapper.style[h] = "300ms"), t.vScrollbarWrapper.style.opacity = "0"))) : void t.scrollTo(r, e, o || 0)
            },
            _wheel: function (o) {
                var t, r, e, l, n, s = this;
                if ("wheelDeltaX" in o) t = o.wheelDeltaX / 3, r = o.wheelDeltaY / 3;
                else if ("wheelDelta" in o) t = r = o.wheelDelta / 12;
                else {
                    if (!("detail" in o)) return;
                    t = r = 3 * -o.detail
                }
                return "zoom" == s.options.wheelAction ? (n = s.scale * Math.pow(2, 1 / 3 * (r ? r / Math.abs(r) : 0)), n < s.options.zoomMin && (n = s.options.zoomMin), n > s.options.zoomMax && (n = s.options.zoomMax), void(n != s.scale && (!s.wheelZoomCount && s.options.onZoomStart && s.options.onZoomStart.call(s, o), s.wheelZoomCount++, s.zoom(o.pageX, o.pageY, n, 400), setTimeout(function () {
                    s.wheelZoomCount--, !s.wheelZoomCount && s.options.onZoomEnd && s.options.onZoomEnd.call(s, o)
                }, 400)))) : (e = s.x + t, l = s.y + r, e > 0 ? e = 0 : e < s.maxScrollX && (e = s.maxScrollX), l > s.minScrollY ? l = s.minScrollY : l < s.maxScrollY && (l = s.maxScrollY), void(s.maxScrollY < 0 && s.scrollTo(e, l, 0)))
            },
            _mouseout: function (o) {
                var t = o.relatedTarget;
                if (!t) return void this._end(o);
                for (; t = t.parentNode;)
                    if (t == this.wrapper) return;
                this._end(o)
            },
            _transitionEnd: function (o) {
                var t = this;
                o.target == t.scroller && (t._unbind(_), t._startAni())
            },
            _startAni: function () {
                var o, t, r, l = this,
                    n = l.x,
                    s = l.y,
                    i = Date.now();
                if (!l.animating) {
                    if (!l.steps.length) return void l._resetPos(400);
                    if (o = l.steps.shift(), o.x == n && o.y == s && (o.time = 0), l.animating = !0, l.moved = !0, l.options.useTransition) return l._transitionTime(o.time), l._pos(o.x, o.y), l.animating = !1, void(o.time ? l._bind(_) : l._resetPos(0));
                    r = function () {
                        var a, c, p = Date.now();
                        return p >= i + o.time ? (l._pos(o.x, o.y), l.animating = !1, l.options.onAnimationEnd && l.options.onAnimationEnd.call(l), void l._startAni()) : (p = (p - i) / o.time - 1, t = e.sqrt(1 - p * p), a = (o.x - n) * t + n, c = (o.y - s) * t + s, l._pos(a, c), void(l.animating && (l.aniTime = w(r))))
                    }, r()
                }
            },
            _transitionTime: function (o) {
                o += "ms", this.scroller.style[c] = o, this.hScrollbar && (this.hScrollbarIndicator.style[c] = o), this.vScrollbar && (this.vScrollbarIndicator.style[c] = o)
            },
            _momentum: function (o, t, r, l, n) {
                var s = 6e-4,
                    i = e.abs(o) / t,
                    a = i * i / (2 * s),
                    c = 0,
                    p = 0;
                return o > 0 && a > r ? (p = n / (6 / (a / i * s)), r += p, i = i * r / a, a = r) : 0 > o && a > l && (p = n / (6 / (a / i * s)), l += p, i = i * l / a, a = l), a *= 0 > o ? -1 : 1, c = i / s, {
                    dist: a,
                    time: e.round(c)
                }
            },
            _offset: function (o) {
                for (var t = -o.offsetLeft, r = -o.offsetTop; o = o.offsetParent;) t -= o.offsetLeft, r -= o.offsetTop;
                return o != this.wrapper && (t *= this.scale, r *= this.scale), {
                    left: t,
                    top: r
                }
            },
            _snap: function (o, t) {
                var r, l, n, s, i, a, c = this;
                for (n = c.pagesX.length - 1, r = 0, l = c.pagesX.length; l > r; r++)
                    if (o >= c.pagesX[r]) {
                        n = r;
                        break
                    } for (n == c.currPageX && n > 0 && c.dirX < 0 && n--, o = c.pagesX[n], i = e.abs(o - c.pagesX[c.currPageX]), i = i ? e.abs(c.x - o) / i * 500 : 0, c.currPageX = n, n = c.pagesY.length - 1, r = 0; n > r; r++)
                    if (t >= c.pagesY[r]) {
                        n = r;
                        break
                    } return n == c.currPageY && n > 0 && c.dirY < 0 && n--, t = c.pagesY[n], a = e.abs(t - c.pagesY[c.currPageY]), a = a ? e.abs(c.y - t) / a * 500 : 0, c.currPageY = n, s = e.round(e.max(i, a)) || 200, {
                    x: o,
                    y: t,
                    time: s
                }
            },
            _bind: function (o, t, r) {
                (t || this.scroller).addEventListener(o, this, !!r)
            },
            _unbind: function (o, t, r) {
                (t || this.scroller).removeEventListener(o, this, !!r)
            },
            destroy: function () {
                var t = this;
                t.scroller.style[i] = "", t.hScrollbar = !1, t.vScrollbar = !1, t._scrollbar("h"), t._scrollbar("v"), t._unbind(v, o), t._unbind(y), t._unbind(Y), t._unbind(T), t._unbind(X), t.options.hasTouch || (t._unbind("mouseout", t.wrapper), t._unbind("DOMMouseScroll"), t._unbind("mousewheel")), t.options.useTransition && t._unbind(_), t.options.checkDOMChanges && clearInterval(t.checkDOMTime), t.options.onDestroy && t.options.onDestroy.call(t)
            },
            refresh: function () {
                var o, t, r, l, n = this,
                    s = 0,
                    i = 0;
                if (n.scale < n.options.zoomMin && (n.scale = n.options.zoomMin), n.wrapperW = n.wrapper.clientWidth || 1, n.wrapperH = n.wrapper.clientHeight || 1, n.minScrollY = -n.options.topOffset || 0, n.scrollerW = e.round(n.scroller.offsetWidth * n.scale), n.scrollerH = e.round((n.scroller.offsetHeight + n.minScrollY) * n.scale), n.maxScrollX = n.wrapperW - n.scrollerW, n.maxScrollY = n.wrapperH - n.scrollerH + n.minScrollY, n.dirX = 0, n.dirY = 0, n.options.onRefresh && n.options.onRefresh.call(n), n.hScroll = n.options.hScroll && n.maxScrollX < 0, n.vScroll = n.options.vScroll && (!n.options.bounceLock && !n.hScroll || n.scrollerH > n.wrapperH), n.hScrollbar = n.hScroll && n.options.hScrollbar, n.vScrollbar = n.vScroll && n.options.vScrollbar && n.scrollerH > n.wrapperH, o = n._offset(n.wrapper), n.wrapperOffsetLeft = -o.left, n.wrapperOffsetTop = -o.top, "string" == typeof n.options.snap)
                    for (n.pagesX = [], n.pagesY = [], l = n.scroller.querySelectorAll(n.options.snap), t = 0, r = l.length; r > t; t++) s = n._offset(l[t]), s.left += n.wrapperOffsetLeft, s.top += n.wrapperOffsetTop, n.pagesX[t] = s.left < n.maxScrollX ? n.maxScrollX : s.left * n.scale, n.pagesY[t] = s.top < n.maxScrollY ? n.maxScrollY : s.top * n.scale;
                else if (n.options.snap) {
                    for (n.pagesX = []; s >= n.maxScrollX;) n.pagesX[i] = s, s -= n.wrapperW, i++;
                    for (n.maxScrollX % n.wrapperW && (n.pagesX[n.pagesX.length] = n.maxScrollX - n.pagesX[n.pagesX.length - 1] + n.pagesX[n.pagesX.length - 1]), s = 0, i = 0, n.pagesY = []; s >= n.maxScrollY;) n.pagesY[i] = s, s -= n.wrapperH, i++;
                    n.maxScrollY % n.wrapperH && (n.pagesY[n.pagesY.length] = n.maxScrollY - n.pagesY[n.pagesY.length - 1] + n.pagesY[n.pagesY.length - 1])
                }
                n._scrollbar("h"), n._scrollbar("v"), n.zoomed || (n.scroller.style[c] = "0", n._resetPos(200))
            },
            scrollTo: function (o, t, r, e) {
                var l, n, s = this,
                    i = o;
                for (s.stop(), i.length || (i = [{
                        x: o,
                        y: t,
                        time: r,
                        relative: e
                    }]), l = 0, n = i.length; n > l; l++) i[l].relative && (i[l].x = s.x - i[l].x, i[l].y = s.y - i[l].y), s.steps.push({
                    x: i[l].x,
                    y: i[l].y,
                    time: i[l].time || 0
                });
                s._startAni()
            },
            scrollToElement: function (o, t) {
                var r, l = this;
                o = o.nodeType ? o : l.scroller.querySelector(o), o && (r = l._offset(o), r.left += l.wrapperOffsetLeft, r.top += l.wrapperOffsetTop, r.left = r.left > 0 ? 0 : r.left < l.maxScrollX ? l.maxScrollX : r.left, r.top = r.top > l.minScrollY ? l.minScrollY : r.top < l.maxScrollY ? l.maxScrollY : r.top, t = void 0 === t ? e.max(2 * e.abs(r.left), 2 * e.abs(r.top)) : t, l.scrollTo(r.left, r.top, t))
            },
            scrollToPage: function (o, t, r) {
                var e, l, n = this;
                r = void 0 === r ? 400 : r, n.options.onScrollStart && n.options.onScrollStart.call(n), n.options.snap ? (o = "next" == o ? n.currPageX + 1 : "prev" == o ? n.currPageX - 1 : o, t = "next" == t ? n.currPageY + 1 : "prev" == t ? n.currPageY - 1 : t, o = 0 > o ? 0 : o > n.pagesX.length - 1 ? n.pagesX.length - 1 : o, t = 0 > t ? 0 : t > n.pagesY.length - 1 ? n.pagesY.length - 1 : t, n.currPageX = o, n.currPageY = t, e = n.pagesX[o], l = n.pagesY[t]) : (e = -n.wrapperW * o, l = -n.wrapperH * t, e < n.maxScrollX && (e = n.maxScrollX), l < n.maxScrollY && (l = n.maxScrollY)), n.scrollTo(e, l, r)
            },
            disable: function () {
                this.stop(), this._resetPos(0), this.enabled = !1, this._unbind(Y), this._unbind(T), this._unbind(X)
            },
            enable: function () {
                this.enabled = !0
            },
            stop: function () {
                this.options.useTransition ? this._unbind(_) : z(this.aniTime), this.steps = [], this.moved = !1, this.animating = !1
            },
            zoom: function (o, t, r, e) {
                var l = this,
                    n = r / l.scale;
                l.options.useTransform && (l.zoomed = !0, e = void 0 === e ? 200 : e, o = o - l.wrapperOffsetLeft - l.x, t = t - l.wrapperOffsetTop - l.y, l.x = o - o * n + l.x, l.y = t - t * n + l.y, l.scale = r, l.refresh(), l.x = l.x > 0 ? 0 : l.x < l.maxScrollX ? l.maxScrollX : l.x, l.y = l.y > l.minScrollY ? l.minScrollY : l.y < l.maxScrollY ? l.maxScrollY : l.y, l.scroller.style[c] = e + "ms", l.scroller.style[i] = "translate(" + l.x + "px," + l.y + "px) scale(" + r + ")" + M, l.zoomed = !1)
            },
            isReady: function () {
                return !this.moved && !this.zoomed && !this.animating
            }
        }, l = null, "undefined" != typeof exports ? exports.iScroll = E : o.iScroll = E;
        gloablIScroll=E;
    }(window, document);

    function l(l, o) {
        $el = r(l), "horizontal" === o ? $el.css("overflow-x", "scroll") : "vertical" === o ? $el.css("overflow-y", "scroll") : $el.css("overflow", "scroll"), $el.css("-webkit-overflow-scrolling", "touch")
    }

    function o(l, o) {
        var e;
        e = new gloablIScroll(l, r.extend(o, {
            run: !1
        })), r(l).data("iscroll", e), "function" == typeof o.run && o.run(e)
    }

    function e() {
        var r = null != navigator.userAgent.match(/OS 5_[0-9_]+ like Mac OS X/i),
            l = null != navigator.userAgent.match(/OS 6_[0-9_]+ like Mac OS X/i);
        return r || l ? !0 : !1
    }

    function t(l, o) {
        $el = r(l), "horizontal" === o ? $el.css("overflow-x", "") : "vertical" === o ? $el.css("overflow-y", "") : $el.css("overflow", ""), $el.css("-webkit-overflow-scrolling", "")
    }

    function n(l) {
        var o = r(l).data("iscroll");
        o && (o.destroy(), r(l).data("iscroll", null))
    }
    r.fn.jScroll = function () {
        var c = {},
            a = "scroll";
        "string" == typeof arguments[0] ? (a = arguments[0], c = arguments[1]) : c = arguments[0];
        var s = r.extend(r.fn.jScroll.defaultOptions, c);
        return this.each(function () {
            var c = r(this).data("iscroll");
            if (c) "refresh" === a && c.refresh(), ("remove" === a || s.remove === !0) && n(this), "force" === a && (n(this), o(this, s)), "run" === a && "function" == typeof arguments[1] && arguments[1](c);
            else if (e() && !s.forceIscroll) {
                var i = "";
                i = s.hScroll && !s.vScroll ? "horizontal" : !s.hScroll && s.vScroll ? "vertical" : "both", "remove" === a || s.remove === !0 ? t(this, i) : l(this, i)
            } else "scroll" === a && o(this, s)
        })
    }, r.fn.jScroll.defaultOptions = {
        hScroll: !0,
        vScroll: !0,
        hScrollbar: !0,
        vScrollbar: !0,
        fixedScrollbar: !1,
        fadeScrollbar: !0,
        hideScrollbar: !0,
        bounce: !0,
        momentum: !0,
        lockDirection: !1,
        forceIscroll: !1,
        zoom: !1,
        useTransition: !1,
        onBeforeScrollStart: function (r) {
            for (var l = r.target; 1 !== l.nodeType;) l = l.parentNode;
            "SELECT" !== l.tagName && "INPUT" !== l.tagName && "TEXTAREA" !== l.tagName && r.preventDefault()
        },
        remove: !1
    }
}(jQuery, window, document);