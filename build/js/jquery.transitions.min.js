$(function () {
    var t = function () {
        var t = $("#te-wrapper"),
            o = $(".te-cover"),
            r = $("#type"),
            s = r.val(),
            l = t.find(".te-transition"),
            d = ["te-flip1", "te-flip2", "te-flip3", "te-flip4", "te-rotation1", "te-rotation2", "te-rotation3", "te-rotation4", "te-rotation5", "te-rotation6", "te-multiflip1", "te-multiflip2", "te-multiflip3", "te-cube1", "te-cube2", "te-cube3", "te-cube4", "te-unfold1", "te-unfold2"],
            f = !1,
            c = Modernizr.csstransforms3d && !$.browser.mozilla,
            u = function () {
                l.addClass(s), 
                 c && t.on({
                    webkitAnimationStart: function () {
                        r.prop("disabled", !0)
                    },
                    webkitAnimationEnd: function (i) {
                        return "te-unfold1" === s && "unfold1_3Back" !== i.originalEvent.animationName || "te-unfold2" === s && "unfold2_3Back" !== i.originalEvent.animationName ? !1 : ( -1 !== $.inArray(s, d) && t.removeClass("te-perspective"), l.removeClass("te-show"), f = !1, void r.prop("disabled", !1))
                    }
                }), r.on("change.TransitionEffects", function () {
                    s = $(this).val(), l.removeClass().addClass("te-transition").addClass(s)
                })
            },
            m = function () {
                c && (l.addClass("te-show"), -1 !== $.inArray(s, d) && t.addClass("te-perspective"))
            }
        return {
            init: u
        }
    }();
    t.init()
});